{"version":3,"sources":["../../src/pages/nursingdemandmap/nursingdemandmap.module.ts","../../src/pages/nursingdemandmap/nursingdemandmap.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NursingdemandmapPage } from './nursingdemandmap';\n\n@NgModule({\n  declarations: [\n    NursingdemandmapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NursingdemandmapPage),\n  ],\n})\nexport class NursingdemandmapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nursingdemandmap/nursingdemandmap.module.ts","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams,LoadingController } from 'ionic-angular';\n//import { NursingselectPage } from '../nursingselect/nursingselect';\nimport { CallNumber } from '@ionic-native/call-number';\nimport { Geolocation} from \"@ionic-native/geolocation\";\nimport { UserServiceProvider } from '../../providers/user-service/user-service';\nimport { SMS } from '@ionic-native/sms';\ndeclare var google;\n\n\n/**\n * Generated class for the NursingdemandmapPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-nursingdemandmap',\n  templateUrl: 'nursingdemandmap.html',\n})\nexport class NursingdemandmapPage {\n  @ViewChild('map') mapContainer: ElementRef;\n  public mobile:any;\n  map: any;\n  public request_id:any;\n  public requestMessage;\n\n  constructor(\n     public navCtrl: NavController,\n     public navParams: NavParams,\n     public geolocation: Geolocation,\n     public callNumber: CallNumber,\n     public userService:UserServiceProvider,\n     public loadingCtrl: LoadingController,\n     private sms: SMS\n    ) {\n      this.request_id = navParams.get('request_id');\n      this.requestMessage = navParams.get('text');\n      this.mobile = navParams.get('requestData');\n      console.log(\"request ki id  \",this.request_id);\n      this.displayGoogleMap()\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad NursingdemandmapPage');\n  }\n  nursingSelect(){\n    this.navCtrl.setRoot('NursingselectPage');\n  }\n  call(){\n    this.callNumber.callNumber(this.mobile, true)\n    .then(res => console.log('Launched dialer!', res))\n    .catch(err => console.log('Error launching dialer', err));\n  }\n  displayGoogleMap(){\n\n    this.geolocation.getCurrentPosition().then((position) => {\n\n      let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n      console.log(position.coords.latitude);\n      let lat:any = position.coords.latitude\n      let long:any = position.coords.longitude\n\n      //   //let latLng = new google.maps.LatLng(-34.9290, 138.6010);\n\n      let mapOptions = {\n        center: latLng,\n        zoom: 14,\n        disableDefaultUI: true,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n\n      this.map = new google.maps.Map(this.mapContainer.nativeElement, mapOptions);\n      //this.getMarkers(this.nursesList);\n      this.addUserMarkersToMap(lat,long);\n\n    },(err)=>{\n      console.log(err);\n    });\n\n  }\n  presentLoadingDefault() {\n    let loading = this.loadingCtrl.create({\n      content: 'Successfully cancel this request'\n    });\n  \n    loading.present();\n  \n    setTimeout(() => {\n      loading.dismiss();\n    }, 2000);\n  }\n  presentLoadingDefault1() {\n    let loading = this.loadingCtrl.create({\n      content: 'Failed to cancel this request'\n    });\n  \n    loading.present();\n  \n    setTimeout(() => {\n      loading.dismiss();\n    }, 2000);\n  }\n  addUserMarkersToMap(lat,long) {\n    //alert('hello')\n    console.log(lat,long)\n    var position = new google.maps.LatLng(lat,long);\n    var museumMarker = new google.maps.Marker({position: position,icon:{ url : 'assets/icon/user_map.png'}});\n    museumMarker.setMap(this.map);\n  }\n  cancel(){\n   this.userService.cancelRequest(this.request_id).subscribe(res=>{\n     console.log(res);\n     if(res.result==\"successfull\"){\n       this.presentLoadingDefault();\n       this.navCtrl.setRoot('NursingselectPage');\n     }\n     else{\n     this.presentLoadingDefault1();\n     }\n   })\n  }\n  message(){\n    var options={\n      replaceLineBreaks: false, // true to replace \\n by a new line, false by default\n      android: {\n           intent: 'INTENT'  // Opens Default sms app\n          //intent: '' // Sends sms without opening default sms app\n        }\n}\nthis.sms.send(this.mobile, 'Dummy text',options)\n  .then(()=>{\n    alert(\"success\");\n  },()=>{\n  alert(\"failed\");\n  });\n}\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nursingdemandmap/nursingdemandmap.ts"],"sourceRoot":""}