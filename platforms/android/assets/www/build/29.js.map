{"version":3,"sources":["../../src/pages/nursingselect/nursingselect.module.ts","../../src/pages/nursingselect/nursingselect.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NursingselectPage } from './nursingselect';\n\n@NgModule({\n  declarations: [\n    NursingselectPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NursingselectPage),\n  ],\n})\nexport class NursingselectPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nursingselect/nursingselect.module.ts","\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nimport { AlertController, IonicPage, Loading, LoadingController, NavController, NavParams, Events } from 'ionic-angular';\n//import { NeedscarePage } from \"../needscare/needscare\";\nimport { UserServiceProvider } from \"../../providers/user-service/user-service\";\n//import { SchedulevisitPage } from '../schedulevisit/schedulevisit';\nimport { Geolocation } from '@ionic-native/geolocation';\n//import { NursingdemandmapPage } from '../nursingdemandmap/nursingdemandmap';\n\ndeclare var google;\n\n/**\n * Generated class for the NursingselectPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-nursingselect',\n  templateUrl: 'nursingselect.html',\n})\nexport class NursingselectPage {\n  @ViewChild('map') mapElement: ElementRef;\n  public visit_id: any;\n  loading: Loading;\n  scheduleList: any;\n  public user_id: any;\n  public visitName: any;\n  public userPic: any;\n  public userName: any;\n  public lat: any;\n  public lon: any;\n  map: any;\n  public requestData: any = [];\n\n\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public userServices: UserServiceProvider,\n    private alertCtrl: AlertController,\n    private loadingCtrl: LoadingController,\n    public events: Events,\n    public geolocation: Geolocation) {\n\n    this.user_id = localStorage.getItem('user_id');\n    console.log(\"user id\", this.user_id);\n    this.userServices.getprofile(this.user_id).subscribe(res => {\n      console.log(res);\n      if (res.status != 0) {\n        this.userPic = res.result.image;\n        this.userName = res.result.firstname + \" \" + res.result.lastname;\n\n        localStorage.setItem('user_mobile',res.result.phone_number);\n        localStorage.setItem('user_address',res.result.address);\n\n        this.events.publish('userPic', this.userPic);\n        this.events.publish('name', this.userName);\n      }\n\n    })\n    this.showLoading()\n    this.userServices.getvisit_list().subscribe(dataList => {\n      this.loading.dismiss()\n      this.scheduleList = dataList.result;\n    })\n\n\n  }\n  load() {\n    this.geolocation.getCurrentPosition().then((position) => {\n\n      let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n      this.lat = position.coords.latitude;\n      this.lon = position.coords.longitude;\n\n      console.log(\"lat long mere on nursing demand\", this.lat, this.lon);\n      localStorage.setItem('lati', this.lat);\n      localStorage.setItem('loni', this.lon);\n\n\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  ionViewWillEnter(){\n    this.user_id = localStorage.getItem('user_id');\n    this.userServices.get_current_request(this.user_id).subscribe(res => {\n      console.log(res);\n      if(res.message == \"successfull\"){\n        this.navCtrl.setRoot('NursingdemandmapPage', {\n          \"requestData\":res.result.phone_number, \"request_id\":res.result.id,\n          \"text\":res.result.firstname+' '+res.result.lastname+' is the nurse who will be visiting with you. Thank you.'\n        });\n      }\n    })\n  }\n\n  ionViewDidLoad() {\n    this.load();\n\n    console.log('ionViewDidLoad NursingselectPage');\n  }\n\n  presentLoadingDefault() {\n    let loading = this.loadingCtrl.create({\n      content: 'please select visit time'\n    });\n    loading.present();\n    setTimeout(() => {\n      loading.dismiss();\n    }, 1000);\n  }\n  presentLoadingDefault1() {\n    let loading = this.loadingCtrl.create({\n      content: 'please wait..'\n    });\n    loading.present();\n    setTimeout(() => {\n      loading.dismiss();\n    }, 1000);\n  }\n\n  selectSchedule(visit_id, visit_name) {\n\n    this.requestData['visit_id'] = visit_id;\n    this.visitName = visit_name;\n    console.log(\"visite  id\", this.requestData, visit_name);\n\n  }\n\n  selectNext() {\n\n    if (this.requestData.visit_id == undefined) {\n      this.presentLoadingDefault();\n    }\n    else if (this.visitName == \"Schedule Visit\") {\n      this.presentLoadingDefault1();\n      this.navCtrl.setRoot('SchedulevisitPage', { 'requestdata': this.requestData });\n    }\n    else {\n      this.requestData['visit_date'] = \"\";\n      this.requestData['visit_time'] = \"\";\n      this.navCtrl.setRoot('NeedscarePage', { 'requestData': this.requestData });\n    }\n\n\n  }\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n\n    });\n    this.loading.present();\n  }\n\n  showError(text) {\n    this.loading.dismiss();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nursingselect/nursingselect.ts"],"sourceRoot":""}