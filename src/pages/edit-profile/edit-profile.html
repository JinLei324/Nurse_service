<!--
  Generated template for the MyprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Edit Profile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>


  <div class="edit-p">
    <label>
      <img src={{pathForImage(lastImage)?pathForImage(lastImage):userPic}} (click)="presentActionSheet()">

    </label>
  </div>


  <div class="input-design">
    <form [formGroup]="authForm" (ngSubmit)="update(authForm.value)">
      <ion-list>

        <ion-item
          [ngClass]="{'error-border':!authForm.controls.firstname.valid && authForm.controls.firstname.touched}">
          <ion-label color="primary" floating>First Name</ion-label>
          <ion-input formControlName="firstname" [(ngModel)]="firstname"></ion-input>
        </ion-item>
        <div class="errorsText"
          *ngIf="authForm.controls.firstname.hasError('pattern') && authForm.controls.firstname.touched">
          <p>Invalid Name</p>
        </div>

        <ion-item [ngClass]="{'error-border':!authForm.controls.lastname.valid && authForm.controls.lastname.touched}">
          <ion-label color="primary" floating>Last Name</ion-label>
          <ion-input formControlName="lastname" type="text" [(ngModel)]="lastname"></ion-input>
        </ion-item>
        <div class="errorsText"
          *ngIf="authForm.controls.lastname.hasError('pattern') && authForm.controls.lastname.touched">
          <p>Invalid Name</p>
        </div>

        <ion-item
          [ngClass]="{'error-border':!authForm.controls.phone_number.valid && authForm.controls.phone_number.touched}">
          <ion-label color="primary" floating>Phone Number</ion-label>
          <ion-input formControlName="phone_number" type="tel" [(ngModel)]="phone_number"></ion-input>
        </ion-item>


        <div *ngIf="authForm.controls.phone_number.hasError('pattern') && authForm.controls.phone_number.touched">
          <p>Invalid Phone</p>
        </div>

        <div
          *ngIf="authForm.controls.phone_number.hasError('minlength') || authForm.controls.phone_number.hasError('maxlength') ">
          <p>Please Enter 10 digit only </p>
        </div>


        <ion-item [ngClass]="{'error-border':!authForm.controls.email.valid && authForm.controls.email.touched}">
          <ion-label color="primary" floating>Eamil Address</ion-label>
          <ion-input [(ngModel)]="email" formControlName="email" type="email"></ion-input>
        </ion-item>
        <div *ngIf="authForm.controls.email.hasError('pattern') && authForm.controls.email.touched">
          <p>Invalid Email</p>
        </div>

        <ion-item style=" margin: 13px 0px;">
          <ion-label color="primary">Date of Birth</ion-label>
          <ion-input type="date" formControlName="date_of_birth" [(ngModel)]="date_of_birth"></ion-input>
        </ion-item>



        <ion-item style="border-bottom: 1px solid #ccc;">
          <ion-label>Gender</ion-label>
          <ion-select (ionChange)="userGender(gender)" [(ngModel)]="gender" formControlName="gender">
            <ion-option value="male">Male</ion-option>
            <ion-option value="female">Female</ion-option>

          </ion-select>
        </ion-item>

        <p style="    text-align: center;
font-size: 18px;
font-weight: 500;
color: #177ec0;">Doctor Information</p>

        <ion-item [ngClass]="{'error-border':!authForm.controls.docName.valid && authForm.controls.docName.touched}">
          <ion-label color="primary" floating> Name</ion-label>
          <ion-input [(ngModel)]="docName" formControlName="docName"></ion-input>
        </ion-item>
        <div class="errorsText"
          *ngIf="authForm.controls.docName.hasError('pattern') && authForm.controls.docName.touched">
          <p>Invalid Name</p>
        </div>


        <ion-item [ngClass]="{'error-border':!authForm.controls.docEmail.valid && authForm.controls.docEmail.touched}">
          <ion-label color="primary" floating>Email</ion-label>
          <ion-input [(ngModel)]="docEmail" formControlName="docEmail"></ion-input>
        </ion-item>
        <div *ngIf="authForm.controls.docEmail.hasError('pattern') && authForm.controls.docEmail.touched">
          <p>Invalid Email</p>
        </div>


        <ion-item
          [ngClass]="{'error-border':!authForm.controls.docMobile.valid && authForm.controls.docMobile.touched}">
          <ion-label color="primary" floating>Phone Number</ion-label>
          <ion-input [(ngModel)]="docMobile" formControlName="docMobile" type="tel"></ion-input>
        </ion-item>
        <div *ngIf="authForm.controls.docMobile.hasError('pattern') && authForm.controls.docMobile.touched">
          <p>Invalid Phone</p>
        </div>

        <div
          *ngIf="authForm.controls.docMobile.hasError('minlength') || authForm.controls.docMobile.hasError('maxlength') ">
          <p>Please Enter 10 digit only </p>
        </div>
      </ion-list>

      <div padding>
        <button ion-button full class="update" [disabled]="!authForm.valid">Update</button>
      </div>
    </form>

  </div>

</ion-content>